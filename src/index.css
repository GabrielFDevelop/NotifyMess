@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
  --background: #0b1322;
  --foreground: #e5e7eb;
  --panel: #0e1726;
  --panelBorder: #1b2a3a;
  --inputBg: #0b1322;
  --inputBorder: #243041;
  --accent: #3b82f6;
  --accentMuted: #1f3b67;
  --textMuted: #9ca3af;
  --surface: #e5e7eb;
  --surfaceText: #0f172a;
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
}

html, body, #root {
  height: 100%;
}

body {
  background-color: var(--background);
  color: var(--foreground);
  padding: 0;
  margin: 0;
}

.app { min-height: 100vh; background-color: var(--background); color: var(--foreground); display: flex; }
.page { flex: 1; min-width: 0; }
.header { display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid var(--panelBorder); background: var(--panel); padding: var(--space-4); }
.header-title { font-size: 1.5rem; font-weight: 600; color: #e5e7eb; }
.header-subtitle { font-size: 0.875rem; color: var(--textMuted); }
.content { display: block; }
.sidebar { position: sticky; top: 0; height: 100vh; width: 16rem; display: flex; flex-direction: column; border-right: 1px solid var(--panelBorder); background: var(--panel); padding: var(--space-4); box-shadow: 2px 0 8px rgba(0,0,0,0.25); }
.sidebar-content { flex: 1; overflow-y: auto; }
.sidebar-footer { border-top: 1px solid var(--panelBorder); background: var(--panel); padding-top: var(--space-3); display: flex; flex-direction: column; gap: var(--space-2); }
.sidebar-title { font-size: 0.875rem; font-weight: 600; color: var(--textMuted); }
.sidebar-card { margin-top: var(--space-3); border: 1px solid var(--inputBorder); background: var(--panel); padding: var(--space-4); border-radius: var(--radius-lg); box-shadow: 0 1px 2px rgba(0,0,0,0.3); }
.sidebar-card-inner { display: flex; align-items: center; justify-content: space-between; gap: var(--space-3); }

.badge { display: inline-flex; align-items: center; border-radius: var(--radius-md); padding: 0 var(--space-2); height: 1.5rem; font-size: 0.75rem; font-weight: 500; }
.badge-default { background: #374151; color: #e5e7eb; }
.badge-warning { background: #ca8a04; color: #000; }
.badge-danger { background: #ea580c; color: #000; }
.badge-urgent { background: #dc2626; color: #fff; }

.button { display: inline-flex; align-items: center; justify-content: center; border-radius: var(--radius-md); font-weight: 500; transition: background-color 0.15s ease; outline: none; }
.button:disabled { opacity: 0.5; pointer-events: none; }
.button-sm { height: 2rem; padding: 0 var(--space-3); font-size: 0.875rem; }
.button-md { height: 2.5rem; padding: 0 var(--space-4); }
.button-lg { height: 3rem; padding: 0 var(--space-6); font-size: 1rem; }
.button-default { background: var(--panelBorder); color: #e5e7eb; }
.button-default:hover { background: var(--inputBorder); }
.button-secondary { background: var(--inputBg); color: #e5e7eb; border: 1px solid var(--panelBorder); }
.button-secondary:hover { background: var(--panel); }
.button-destructive { background: #dc2626; color: #fff; }
.button-destructive:hover { background: #b91c1c; }
.button-surface { background: var(--surface); color: var(--surfaceText); }
.button-surface:hover { background: #d1d5db; }

.input { display: flex; height: 2.5rem; width: 100%; border-radius: var(--radius-md); border: 1px solid var(--inputBorder); background: var(--inputBg); padding: 0 var(--space-3); color: #e5e7eb; font-size: 0.875rem; }
.input::placeholder { color: var(--textMuted); }
.input:focus-visible { outline: none; box-shadow: 0 0 0 2px var(--accent); }

.card { border-radius: var(--radius-lg); border: 1px solid var(--panelBorder); background: var(--panel); box-shadow: 0 1px 2px rgba(0,0,0,0.3); }
.card-header { display: flex; flex-direction: column; gap: 0.375rem; padding: var(--space-4); }
.card-title { font-size: 1rem; font-weight: 600; color: #e5e7eb; }
.card-content { padding: var(--space-4); padding-top: 0; }
.card-footer { padding: var(--space-4); padding-top: 0; }

.select-trigger { display: inline-flex; height: 2.5rem; width: 100%; align-items: center; justify-content: space-between; border-radius: var(--radius-md); border: 1px solid var(--inputBorder); background: var(--inputBg); padding: 0 var(--space-3); color: #e5e7eb; font-size: 0.875rem; }
.select-trigger:focus-visible { outline: none; box-shadow: 0 0 0 2px var(--accent); }
.select-content { z-index: 50; min-width: 8rem; overflow: hidden; border-radius: var(--radius-md); border: 1px solid var(--panelBorder); background: var(--panel); color: #e5e7eb; box-shadow: 0 2px 8px rgba(0,0,0,0.4); }
.select-viewport { padding: var(--space-1); }
.select-item { display: flex; cursor: pointer; user-select: none; align-items: center; border-radius: var(--radius-sm); padding: var(--space-2) var(--space-2); font-size: 0.875rem; color: #e5e7eb; }
.select-item[data-highlighted] { background: var(--inputBg); }

.toast-container { position: fixed; right: var(--space-4); top: var(--space-4); z-index: 50; display: flex; flex-direction: column; gap: var(--space-2); }
.toast { min-width: 240px; border-radius: var(--radius-md); border: 1px solid; padding: var(--space-3) var(--space-2); font-size: 0.875rem; }
.toast-success { border-color: #15803d; background: #052e16; color: #dcfce7; }
.toast-error { border-color: #b91c1c; background: #450a0a; color: #fee2e2; }
.toast-info { border-color: #374151; background: #000000; color: #e5e7eb; }

.chat-list { flex: 1; overflow-y: auto; border-radius: var(--radius-md); border: 1px solid var(--panelBorder); background: var(--panel); padding: var(--space-3); }
.chat-space { display: flex; flex-direction: column; gap: var(--space-2); }
.chat-item { border-radius: var(--radius-md); border: 1px solid var(--inputBorder); background: var(--inputBg); padding: var(--space-2); }
.chat-toolbar { display: flex; align-items: center; justify-content: space-between; }
.chat-toolbar-left { display: flex; align-items: center; gap: var(--space-2); }
.chat-toolbar-right { display: flex; align-items: center; gap: var(--space-2); }
.chat-cuidado { background: rgba(133, 77, 14, 0.4); border-color: #ca8a04; }
.chat-perigosa { background: rgba(124, 45, 18, 0.4); border-color: #ea580c; }
.chat-urgente { background: rgba(127, 29, 29, 0.4); border-color: #dc2626; }
.chat-default { background: rgba(17, 24, 39, 0.4); border-color: #374151; }

* { scrollbar-width: thin; scrollbar-color: var(--panelBorder) transparent; }
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background-color: var(--panelBorder); border-radius: 9999px; }
::-webkit-scrollbar-thumb:hover { background-color: var(--inputBorder); }

.indicator-round { display: inline-flex; align-items: center; justify-content: center; width: 1.25rem; height: 1.25rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 600; }
.indicator-cuidado { background: #ca8a04; color: #000; }
.indicator-perigosa { background: #ea580c; color: #000; }
.indicator-urgente { background: #dc2626; color: #fff; }

.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); }

@media (max-width: 1024px) {
  .app { flex-direction: column; }
  .sidebar { position: static; width: 100%; height: auto; border-right: none; border-bottom: 1px solid var(--panelBorder); box-shadow: 0 2px 8px rgba(0,0,0,0.2); max-height: 640px; overflow: hidden; transition: max-height 0.2s ease, opacity 0.2s ease, padding 0.2s ease, margin 0.2s ease, box-shadow 0.2s ease, border-bottom-color 0.2s ease; will-change: max-height, opacity; }
  .content { display: block; }
  .sidebar.is-hidden { max-height: 0; opacity: 0; padding-top: 0; padding-bottom: 0; margin-bottom: 0; border-bottom-color: transparent; box-shadow: none; }
}

@media (max-width: 768px) {
  .grid-2 { grid-template-columns: 1fr; }
  .header { padding: var(--space-3); }
  .sidebar { padding: var(--space-3); }
}

.header-toggle { display: none; }
@media (max-width: 1024px) {
  .header-toggle { display: inline-flex; }
}

@media (max-width: 480px) {
  .header { padding: var(--space-2); }
  .card-header, .card-content, .card-footer { padding: var(--space-3); }
  .sidebar { padding: var(--space-2); }
  .chat-space { gap: var(--space-1); }
}